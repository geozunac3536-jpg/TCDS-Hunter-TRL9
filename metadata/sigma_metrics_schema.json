{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TCDS Σ-metrics Schema",
  "description": "Esquema de validación para métricas de coherencia Σ en TCDS Hunter/Crawler TRL-9.",
  "type": "object",
  "properties": {
    "event_id": {
      "type": "string",
      "description": "Identificador del evento sísmico o ventana analizada (ej. IRIS/USGS ID)."
    },
    "region": {
      "type": "string",
      "description": "Descripción corta de la región (ej. 'TEXAS', 'PUERTO RICO')."
    },
    "station": {
      "type": "string",
      "description": "Estación o nodo sísmico usado (ej. 'AK.PIN.BHZ')."
    },
    "t_c": {
      "type": "string",
      "format": "date-time",
      "description": "Tiempo causal estimado para el máximo locking Σ dentro de la ventana."
    },
    "LI": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Locking Index (LI) en la ventana analizada."
    },
    "R": {
      "type": "number",
      "minimum": -1.0,
      "maximum": 1.0,
      "description": "Correlación R(t) entre la señal y el patrón de locking Σ."
    },
    "RMSE_SL": {
      "type": "number",
      "minimum": 0.0,
      "description": "Root Mean Squared Error entre la señal y la componente de locking."
    },
    "kappa_sigma": {
      "type": "number",
      "description": "Curvatura coherencial κΣ (opcional)."
    },
    "delta_H": {
      "type": "number",
      "description": "Variación entrópica ΔH en la ventana analizada."
    },
    "e_veto_pass": {
      "type": "boolean",
      "description": "Indica si la señal aprueba el criterio E-Veto (ΔH ≤ -0.20)."
    },
    "reproducibility": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Fracción de corridas reproducibles con métricas dentro de umbrales."
    },
    "config_hash": {
      "type": "string",
      "description": "Hash SHA256 de la configuración (parámetros de ventana, ruta de datos, versión de código)."
    },
    "run_id": {
      "type": "string",
      "description": "Identificador de la corrida (ej. 'RUN_2025-12-09_TEXAS_001')."
    }
  },
  "required": [
    "event_id",
    "region",
    "station",
    "t_c",
    "LI",
    "R",
    "RMSE_SL",
    "delta_H",
    "e_veto_pass",
    "config_hash",
    "run_id"
  ],
  "additionalProperties": true
}
